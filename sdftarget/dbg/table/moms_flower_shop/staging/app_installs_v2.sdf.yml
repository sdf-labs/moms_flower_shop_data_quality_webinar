table:
  name: MOMS_FLOWER_SHOP.STAGING.APP_INSTALLS_V2
  dialect: snowflake
  casing-policy: preserve
  materialization: view
  purpose: model
  dependencies:
  - MOMS_FLOWER_SHOP.RAW.RAW_MARKETING_CAMPAIGN_EVENTS
  - MOMS_FLOWER_SHOP.STAGING.INAPP_EVENTS
  depended-on-by:
  - MOMS_FLOWER_SHOP.ANALYTICS.AGG_INSTALLS_AND_CAMPAIGNS
  - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY
  - MOMS_FLOWER_SHOP.STAGING.CUSTOMERS
  - MOMS_FLOWER_SHOP.STAGING.STG_INSTALLS_PER_CAMPAIGN
  columns:
  - name: EVENT_ID
    description: A unique identifier of an in-app event within mom's flower shop's mobile app
    datatype: decimal(38, 0)
    classifiers:
    - EVENT.inapp
    lineage:
      copy:
      - MOMS_FLOWER_SHOP.STAGING.INAPP_EVENTS.EVENT_ID
    forward-lineage:
      modify:
      - MOMS_FLOWER_SHOP.STAGING.STG_INSTALLS_PER_CAMPAIGN.TOTAL_NUM_INSTALLS
  - name: CUSTOMER_ID
    description: The identifier of the customer that performed the event
    datatype: decimal(38, 0)
    lineage:
      copy:
      - MOMS_FLOWER_SHOP.STAGING.INAPP_EVENTS.CUSTOMER_ID
    forward-lineage:
      modify:
      - MOMS_FLOWER_SHOP.ANALYTICS.AGG_INSTALLS_AND_CAMPAIGNS.DISTINCT_INSTALLS
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.INSTALL_COUNT
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.ORGANIC_INSTALL_PERCENTAGE
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.ORGANIC_INSTALLS
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.PAID_INSTALL_PERCENTAGE
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.PAID_INSTALLS
  - name: INSTALL_TIME
    description: The unixtime in which the event occurred
    datatype: decimal(38, 0)
    lineage:
      copy:
      - MOMS_FLOWER_SHOP.STAGING.INAPP_EVENTS.EVENT_TIME
    forward-lineage:
      copy:
      - MOMS_FLOWER_SHOP.ANALYTICS.AGG_INSTALLS_AND_CAMPAIGNS.INSTALL_TIME
  - name: PLATFORM
    description: iOS or Android
    datatype: varchar
    lineage:
      copy:
      - MOMS_FLOWER_SHOP.STAGING.INAPP_EVENTS.PLATFORM
    forward-lineage:
      copy:
      - MOMS_FLOWER_SHOP.ANALYTICS.AGG_INSTALLS_AND_CAMPAIGNS.PLATFORM
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.PLATFORM
  - name: CAMPAIGN_ID
    description: The identifier of the campaign that is associated with the event
    datatype: decimal(38, 0)
    lineage:
      copy:
      - MOMS_FLOWER_SHOP.RAW.RAW_MARKETING_CAMPAIGN_EVENTS.CAMPAIGN_ID
    forward-lineage:
      copy:
      - MOMS_FLOWER_SHOP.STAGING.CUSTOMERS.CAMPAIGN_ID
      - MOMS_FLOWER_SHOP.STAGING.STG_INSTALLS_PER_CAMPAIGN.CAMPAIGN_ID
      modify:
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.ORGANIC_INSTALL_PERCENTAGE
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.ORGANIC_INSTALLS
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.PAID_INSTALL_PERCENTAGE
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.PAID_INSTALLS
  - name: CAMPAIGN_NAME
    description: The campaign name associated with the campaign_id
    datatype: varchar
    lineage:
      copy:
      - MOMS_FLOWER_SHOP.RAW.RAW_MARKETING_CAMPAIGN_EVENTS.CAMPAIGN_NAME
    forward-lineage:
      copy:
      - MOMS_FLOWER_SHOP.ANALYTICS.AGG_INSTALLS_AND_CAMPAIGNS.CAMPAIGN_NAME
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.CAMPAIGN_NAME
      - MOMS_FLOWER_SHOP.STAGING.CUSTOMERS.CAMPAIGN_NAME
  - name: CAMPAIGN_TYPE
    description: |
      A substring of the campaign name contain the campaign type.  Supported types - instagram_ads, friends_referrals, facebook_ads, google_search
    datatype: varchar
    lineage:
      copy:
      - MOMS_FLOWER_SHOP.RAW.RAW_MARKETING_CAMPAIGN_EVENTS.C_NAME
    forward-lineage:
      copy:
      - MOMS_FLOWER_SHOP.ANALYTICS.INSTALL_ATTRIBUTION_SUMMARY.CAMPAIGN_TYPE
      - MOMS_FLOWER_SHOP.STAGING.CUSTOMERS.CAMPAIGN_TYPE
  lineage:
    scan:
    - MOMS_FLOWER_SHOP.RAW.RAW_MARKETING_CAMPAIGN_EVENTS.CAMPAIGN_ID
    - MOMS_FLOWER_SHOP.STAGING.INAPP_EVENTS.CAMPAIGN_ID
    - MOMS_FLOWER_SHOP.STAGING.INAPP_EVENTS.EVENT_NAME
  source-locations:
  - path: models/staging/app_installs_v2.sql
